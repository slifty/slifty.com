---
layout: layouts/base.njk
---

<article class="post">
  <header class="post-header">
    <h1 class="post-title">{{ title }}</h1>

    <div class="post-meta">
      {% if date %}
        <time datetime="{{ date | htmlDateString }}">{{ date | readableDate }}</time>
      {% endif %}

      {% if categories %}
        <span class="post-categories">
          {% for category in categories %}
            <a href="/category/{{ category | slugify }}/">{{ category }}</a>{% if not loop.last %}, {% endif %}
          {% endfor %}
        </span>
      {% endif %}
    </div>
  </header>

  <div class="post-content">
    {{ content | safe }}
  </div>

  {% if tags %}
    <footer class="post-footer">
      <div class="post-tags">
        <strong>Tags:</strong>
        {% set filteredTags = tags | reject("equalto", "posts") %}
        {% for tag in filteredTags %}
          <a href="/tag/{{ tag | slugify }}/">{{ tag }}</a>{% if not loop.last %}, {% endif %}
        {% endfor %}
      </div>
    </footer>
  {% endif %}

  {# Disqus Comments #}
  {% if disqus %}
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = "https://slifty.com{{ page.url }}";
        this.page.identifier = "{{ page.fileSlug }}";
      };
      (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://{{ disqus }}.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
  {% endif %}
</article>
